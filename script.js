var words = {
    abakus: {
        ordklass: "substantiv",
        betyder: "ett enklare räknehjälpmedel med en ram och ett antal ribbor med flyttbara kulor",
        belagt: 1903,
        från: [
            {
                ord: "abacus",
                språk: "latin"
            },
            {
                ord: "abax",
                språk: "grekiska"
            }
        ]
    },
    abalienation: {
        ordklass: "substantiv",
        betyder: "avyttring av (fast) egendom",
        belagt: 1650,
        från: [
            {
                ord: "abalienatio",
                språk: "latin"
            }
        ]
    },
    abasi: {
        ordklass: "substantiv",
        betyder: "oförmåga att gå",
        belagt: 1989,
        från: [
            {
                ord: "basis",
                språk: "grekiska"
            }
        ]
    },
    abbé: {
        ordklass: "substantiv",
        betyder: "katolsk andlig person",
        belagt: 1791,
        från: [
            {
                ord: "abbé",
                språk: "franska"
            }
        ]
    },
    abbedissa: {
        ordklass: "substantiv",
        betyder: "kvinnlig föreståndare för nunnekloster",
        belagt: 1400,
        från: [
            {
                ord: "abbatissa",
                språk: "medeltidslatin"
            }
        ]
    },
    abborre: {
        ordklass: "substantiv",
        betyder: "en mindre söt- och brackvattensfisk med taggig främre ryggfena",
        belagt: 1270,
        från: [
            {
                ord: "aghborre",
                språk: "fornsvenska"
            }
        ]
    },
    abbot: {
        ordklass: "substantiv",
        betyder: "manlig föreståndare för munkkloster",
        belagt: 1355,
        från: [
            {
                ord: "abba",
                språk: "medeltidslatin"
            }
        ]
    },
    abbreviera: {
        ordklass: "verb",
        betyder: "skriva i förkortad form",
        belagt: 1642,
        från: [
            {
                ord: "abbreviare",
                språk: "senlatin"
            }
        ]
    },
    abderitisk: {
        ordklass: "adjektiv",
        betyder: "enfaldig",
        belagt: 1822,
        från: [
            {
                ord: "abdera",
                språk: "forngrekiska"
            }
        ]
    },
    abdikera: {
        ordklass: "verb",
        betyder: "avsäga sig kunglig eller kejserlig värdighet",
        belagt: 1808,
        från: [
            {
                ord: "abdiquer",
                språk: "franska"
            },
            {
                ord: "abdicare",
                språk: "latin"
            }
        ]
    },
    abdomen: {
        ordklass: "substantiv",
        betyder: "bakkropp på leddjur",
        belagt: 1835,
        från: [
            {
                ord: "abdomen",
                språk: "latin"
            }
        ]
    },
    abducera: {
        ordklass: "verb",
        betyder: "röra (en kroppsdel) från kroppens eller en kroppsdels mittlinje",
        belagt: 1904,
        från: [
            {
                ord: "abducere",
                språk: "latin"
            }
        ]
    },
    abduktion: {
        ordklass: "substantiv",
        betyder: "rörelse av en kroppsdel åt sidan",
        belagt: 1903,
        från: [
            {
                ord: "abducere",
                språk: "latin"
            }
        ]
    },
    aber: {
        ordklass: "substantiv",
        betyder: "(oväntat) hinder",
        belagt: 1891,
        från: [
            {
                ord: "aber",
                språk: "tyska"
            }
        ]
    },
    aberration: {
        ordklass: "substantiv",
        betyder: "avbildningsfel",
        belagt: 1875,
        från: [
            {
                ord: "aberratio",
                språk: "latin"
            }
        ]
    },
    abilitet: {
        ordklass: "substantiv",
        betyder: "grundläggande själslig förmåga",
        belagt: 1968,
        från: [
            {
                ord: "ability",
                språk: "engelska"
            },
            {
                ord: "habilitas",
                språk: "latin"
            }
        ]
    },
    abiturient: {
        ordklass: "substantiv",
        betyder: "elev i gymnasiets avgångsklass som står i begrepp att avlägga studentexamen",
        belagt: 1801,
        från: [
            {
                ord: "abiturient",
                språk: "tyska"
            },
            {
                ord: "abiturire",
                språk: "latin"
            }
        ]
    },
    ablation: {
        ordklass: "substantiv",
        betyder: "smältning och bortdunstning från glaciäryta",
        belagt: 1903,
        från: [
            {
                ord: "ablatio",
                språk: "latin"
            }
        ]
    },
    ablativ: {
        ordklass: "substantiv",
        betyder: "ett kasus som främst anger riktning från något",
        belagt: 1801,
        från: [
            {
                ord: "ablativus",
                språk: "latin"
            }
        ]
    },
    abnorm: {
        ordklass: "adjektiv",
        betyder: "som kraftigt avviker från det normala",
        belagt: 1839,
        från: [
            {
                ord: "abnormis",
                språk: "latin"
            }
        ]
    },
    abolition: {
        ordklass: "substantiv",
        betyder: "efterskänkande av eventuellt straff",
        belagt: 1844,
        från: [
            {
                ord: "abolitio",
                språk: "latin"
            }
        ]
    },
    abolitionism: {
        ordklass: "substantiv",
        betyder: "(rörelse som omfattade) ståndpunkten att slaveriet borde avskaffas",
        belagt: 1856,
        från: [
            {
                ord: "abolere",
                språk: "latin"
            }
        ]
    },
    abonnemang: {
        ordklass: "substantiv",
        betyder: "på förhand gjord beställning för viss tid",
        belagt: 1850,
        från: [
            {
                ord: "abonnement",
                språk: "franska"
            }
        ]
    },
    abonnera: {
        ordklass: "verb",
        betyder: "ha mer eller mindre säkrad tillgång",
        belagt: 1779,
        från: [
            {
                ord: "abonner",
                språk: "franska"
            }
        ]
    },
    aborigin: {
        ordklass: "substantiv",
        betyder: "urinvånare i Australien",
        belagt: "1960-talet",
        från: [
            {
                ord: "aborigine",
                språk: "engelska"
            },
            {
                ord: "aborigines",
                språk: "latin"
            }
        ]
    },
    abort: {
        ordklass: "substantiv",
        betyder: "avbrytande av havandeskap",
        belagt: 1838,
        från: [
            {
                ord: "abortus",
                språk: "latin"
            }
        ]
    },
    abortera: {
        ordklass: "verb",
        betyder: "(låta) framkalla missfall",
        belagt: 1838,
        från: [
            {
                ord: "abortieren",
                språk: "tyska"
            },
            {
                ord: "avorter",
                språk: "franska"
            }
        ]
    },
    abortiv: {
        ordklass: "adjektiv",
        betyder: "som har att göra med abort",
        belagt: 1837,
        från: [
            {
                ord: "abortivus",
                språk: "latin"
            }
        ]
    },
    abradera: {
        ordklass: "verb",
        betyder: "undergå abrasion",
        belagt: 1946,
        från: [
            {
                ord: "abradere",
                språk: "latin"
            }
        ]
    },
    abrakadabra: {
        ordklass: "substantiv",
        betyder: "(skenbart) meningslös ljudföljd med (förment) magisk verkan",
        belagt: 1798,
        från: [
            {
                ord: "abracadabra",
                språk: "latin"
            }
        ]
    },
    abrupt: {
        ordklass: "adjektiv",
        betyder: "plötsligt inledd eller avslutad",
        belagt: 1843,
        från: [
            {
                ord: "abruptus",
                språk: "latin"
            }
        ]
    },
    abscess: {
        ordklass: "substantiv",
        betyder: "varig, väl avgränsad, ofta utbuktande, bildning i huden",
        belagt: 1837,
        från: [
            {
                ord: "abscessus",
                språk: "latin"
            }
        ]
    },
    absens: {
        ordklass: "substantiv",
        betyder: "kortvarig medvetslöshet",
        belagt: 1629,
        från: [
            {
                ord: "absentia",
                språk: "latin"
            }
        ]
    },
    absid: {
        ordklass: "substantiv",
        betyder: "rumsavslutande utbyggnad på kyrka",
        belagt: 1854,
        från: [
            {
                ord: "abside",
                språk: "franska"
            },
            {
                ord: "absis",
                språk: "latin"
            },
            {
                ord: "hapsis",
                språk: "grekiska"
            }
        ]
    },
    absint: {
        ordklass: "substantiv",
        betyder: "en grönaktig, starkt sprithaltig likör som bereds på malört m.m.",
        belagt: 1871,
        från: [
            {
                ord: "absinthe",
                språk: "franska"
            },
            {
                ord: "absinthium",
                språk: "latin"
            }
        ]
    },
    abskissa: {
        ordklass: "substantiv",
        betyder: "koordinat som anger en punkts avstånd till lodräta axeln i koordinatsystem",
        belagt: 1860,
        från: [
            {
                ord: "abscissa",
                språk: "latin"
            }
        ]
    },
    absolut: {
        ordklass: "adjektiv",
        betyder: "oberoende av all relation till något annat",
        belagt: 1723,
        från: [
            {
                ord: "absolutus",
                språk: "latin"
            }
        ]
    },
    absolution: {
        ordklass: "substantiv",
        betyder: "syndaförlåtelse",
        belagt: 1617,
        från: [
            {
                ord: "absolutio",
                språk: "latin"
            }
        ]
    },
    absolvera: {
        ordklass: "verb",
        betyder: "fullborda",
        belagt: 1693,
        från: [
            {
                ord: "absolvere",
                språk: "latin"
            }
        ]
    },
    absorbera: {
        ordklass: "verb",
        betyder: "ta upp",
        belagt: 1768,
        från: [
            {
                ord: "absorbere",
                språk: "latin"
            }
        ]
    },
    abstinens: {
        ordklass: "substantiv",
        betyder: "avhållsamhet",
        belagt: 1876,
        från: [
            {
                ord: "abstinentia",
                språk: "latin"
            }
        ]
    },
    abstract: {
        ordklass: "substantiv",
        betyder: "kort sammanfattning",
        belagt: 1960,
        från: [
            {
                ord: "abstract",
                språk: "engelska"
            }
        ]
    },
    abstrahera: {
        ordklass: "verb",
        betyder: "skapa en allmän och övergripande föreställning (om något)",
        belagt: 1737,
        från: [
            {
                ord: "abstrahere",
                språk: "latin"
            }
        ]
    },
    abstrakt: {
        ordklass: "adjektiv",
        betyder: "som inte kan uppfattas med sinnena",
        belagt: 1779,
        från: [
            {
                ord: "abstractus",
                språk: "latin"
            }
        ]
    },
    abstrus: {
        ordklass: "adjektiv",
        betyder: "dunkelt uttryckt",
        belagt: 1716,
        från: [
            {
                ord: "abstrusus",
                språk: "latin"
            }
        ]
    },
    absurd: {
        ordklass: "adjektiv",
        betyder: "som strider mot lagarna för förnuftigt tänkande",
        belagt: 1634,
        från: [
            {
                ord: "absurdus",
                språk: "latin"
            }
        ]
    },
    absurdism: {
        ordklass: "substantiv",
        betyder: "en (litterär) riktning som söker konstnärliga uttryck för tillvarons meningslöshet",
        belagt: 1959,
        från: [
            {
                ord: "absurdisme",
                språk: "franska"
            }
        ]
    },
    absurditet: {
        ordklass: "substantiv",
        betyder: "det att något strider mot lagarna för förnuftigt tänkande",
        belagt: 1650,
        från: [
            {
                ord: "absurdität",
                språk: "tyska"
            },
            {
                ord: "absurditas",
                språk: "latin"
            }
        ]
    },
    abundans: {
        ordklass: "substantiv",
        betyder: "mycket riklig tillgång",
        belagt: 1886,
        från: [
            {
                ord: "abundantia",
                språk: "latin"
            }
        ]
    },
    abyssal: {
        ordklass: "adjektiv",
        betyder: "som tillhör de största djupen i hav",
        belagt: 1896,
        från: [
            {
                ord: "abyssal",
                språk: "franska"
            },
            {
                ord: "abyssus",
                språk: "latin"
            }
        ]
    },
    accedera: {
        ordklass: "verb",
        betyder: "registrera",
        belagt: 1943,
        från: [
            {
                ord: "accedere",
                språk: "latin"
            }
        ]
    },
    accelerando: {
        ordklass: "adverb",
        betyder: "med tilltagande tempo",
        belagt: 1856,
        från: [
            {
                ord: "accelerando",
                språk: "italienska"
            }
        ]
    },
    acceleration: {
        ordklass: "substantiv",
        betyder: "hastighetsökning per tidsenhet",
        belagt: 1805,
        från: [
            {
                ord: "acceleratio",
                språk: "latin"
            }
        ]
    },
    accelerera: {
        ordklass: "verb",
        betyder: "öka hastigheten",
        belagt: 1850,
        från: [
            {
                ord: "accelerare",
                språk: "latin"
            }
        ]
    },
    accent: {
        ordklass: "substantiv",
        betyder: "särskilt sätt att med styrka eller ton framhäva viss stavelse",
        belagt: 1651,
        från: [
            {
                ord: "accentus",
                språk: "latin"
            }
        ]
    },
    accept: {
        ordklass: "substantiv",
        betyder: "växel som godkänts till betalning",
        belagt: 1874,
        från: [
            {
                ord: "acceptus",
                språk: "latin"
            }
        ]
    },
    acceptant: {
        ordklass: "substantiv",
        betyder: "person som accepterat en växel",
        belagt: 1669,
        från: [
            {
                ord: "acceptant",
                språk: "tyska"
            },
            {
                ord: "acceptant",
                språk: "franska"
            }
        ]
    },
    access: {
        ordklass: "substantiv",
        betyder: "tillgång",
        belagt: 1903,
        från: [
            {
                ord: "access",
                språk: "engelska"
            }
        ]
    },
    accession: {
        ordklass: "substantiv",
        betyder: "tillskott till existerande (bok)samling",
        belagt: 1837,
        från: [
            {
                ord: "accessio",
                språk: "latin"
            }
        ]
    },
    accessoar: {
        ordklass: "substantiv",
        betyder: "tillbehör",
        belagt: 1892,
        från: [
            {
                ord: "accessoires",
                språk: "franska"
            }
        ]
    },
    accessorisk: {
        ordklass: "adjektiv",
        betyder: "som utgör ett (övertaligt) bihang",
        belagt: 1840,
        från: [
            {
                ord: "accessorius",
                språk: "nylatin"
            }
        ]
    },
    accidens: {
        ordklass: "substantiv",
        betyder: "något tillfälligt och mindre väsentligt",
        belagt: 1827,
        från: [
            {
                ord: "accidens",
                språk: "latin"
            }
        ]
    },
    accis: {
        ordklass: "substantiv",
        betyder: "särskild skatt på vissa varor",
        belagt: 1534,
        från: [
            {
                ord: "accise",
                språk: "franska"
            }
        ]
    },
    accompagnato: {
        ordklass: "substantiv",
        betyder: "recitativ till orkesterackompanjemang",
        belagt: 1904,
        från: [
            {
                ord: "accompagnato",
                språk: "italienska"
            }
        ]
    },
    acedia: {
        ordklass: "substantiv",
        betyder: "andlig lättja och liknöjdhet",
        belagt: 1918,
        från: [
            {
                ord: "akedeia",
                språk: "grekiska"
            }
        ]
    },
    acetaldehyd: {
        ordklass: "substantiv",
        betyder: "en färglös vätska som används som utgångsmaterial för framställning av många organiska produkter",
        belagt: 1922,
        från: [
            {
                ord: "acetum",
                språk: "latin"
            }
        ]
    },
    acetat: {
        ordklass: "substantiv",
        betyder: "salt eller ester av ättiksyra",
        belagt: 1876,
        från: [
            {
                ord: "acetum",
                språk: "latin"
            }
        ]
    },
    aceton: {
        ordklass: "substantiv",
        betyder: "en färglös flyktig vätska som används som lösningsmedel för organiska ämnen",
        belagt: 1877,
        från: [
            {
                ord: "acetum",
                språk: "latin"
            }
        ]
    },
    acetylen: {
        ordklass: "substantiv",
        betyder: "ett gasformigt kolväte",
        belagt: 1877,
        från: [
            {
                ord: "acetum",
                språk: "latin"
            },
            {
                ord: "hyle",
                språk: "grekiska"
            }
        ]
    },
    acetylsalicylsyra: {
        ordklass: "substantiv",
        betyder: "ett kristalliskt organiskt ämne som är huvudsaklig beståndsdel i några vanliga febernedsättande och smärtstillande läkemedel",
        belagt: 1923,
        från: [
            {
                ord: "acetum",
                språk: "latin"
            },
            {
                ord: "salix",
                språk: "latin"
            }
        ]
    },
    aciditet: {
        ordklass: "substantiv",
        betyder: "grad av surhet i en (sur) lösning",
        belagt: 1903,
        från: [
            {
                ord: "acidus",
                språk: "latin"
            }
        ]
    },
    acidofilus: {
        ordklass: "substantiv",
        betyder: "en bakterie som används vid framställning av vissa typer av surmjölk",
        belagt: 1980,
        från: [
            {
                ord: "acidus",
                språk: "latin"
            },
            {
                ord: "philos",
                språk: "grekiska"
            }
        ]
    },
    ack: {
        ordklass: "interjektion",
        betyder: "sorgligt att säga",
        belagt: "1500-talet",
        från: [
            {
                ord: "akh",
                språk: "fornsvenska"
            },
            {
                ord: "ach",
                språk: "lågtyska"
            }
        ]
    },
    ackja: {
        ordklass: "substantiv",
        betyder: "typ av (samisk) släde med båtliknande konstruktion, avsedd att dras av renar",
        belagt: 1555,
        från: [
            {
                ord: "ahkio",
                språk: "finländska"
            }
        ]
    },
    acklamation: {
        ordklass: "substantiv",
        betyder: "ljudligt och (nästan) enhälligt bifall",
        belagt: 1645,
        från: [
            {
                ord: "acclamatio",
                språk: "latin"
            }
        ]
    },
    acklimatisera: {
        ordklass: "verb",
        betyder: "vänja vid nya förhållanden",
        belagt: 1843,
        från: [
            {
                ord: "acclimater",
                språk: "franska"
            }
        ]
    },
    ackommodation: {
        ordklass: "substantiv",
        betyder: "anpassning",
        belagt: 1861,
        från: [
            {
                ord: "accomodatio",
                språk: "latin"
            }
        ]
    },
    ackommodera: {
        ordklass: "verb",
        betyder: "anpassa",
        belagt: 1627,
        från: [
            {
                ord: "accommodare",
                språk: "latin"
            }
        ]
    },
    ackompanjera: {
        ordklass: "verb",
        betyder: "spela ackompanjemang till",
        belagt: 1779,
        från: [
            {
                ord: "accompagner",
                språk: "franska"
            }
        ]
    },
    ackord: {
        ordklass: "substantiv",
        betyder: "samklang av flera toner av olika höjd",
        belagt: 1729,
        från: [
            {
                ord: "accord",
                språk: "franska"
            }
        ]
    },
    ackordeon: {
        ordklass: "substantiv",
        betyder: "dragspel",
        belagt: 1864,
        från: [
            {
                ord: "akkordion",
                språk: "tyska"
            }
        ]
    },
    ackreditera: {
        ordklass: "verb",
        betyder: "förse med fullmakt",
        belagt: 1740,
        från: [
            {
                ord: "accréditer",
                språk: "franska"
            }
        ]
    },
    ackumulera: {
        ordklass: "verb",
        betyder: "samla till sig och lagra",
        belagt: 1615,
        från: [
            {
                ord: "accumulare",
                språk: "latin"
            }
        ]
    },
    ackurat: {
        ordklass: "adjektiv",
        betyder: "mycket noggrann",
        belagt: 1716,
        från: [
            {
                ord: "accuratus",
                språk: "latin"
            }
        ]
    },
    ackusativ: {
        ordklass: "substantiv",
        betyder: "ett kasus som bl.a. förbinds med det direkta objektet",
        belagt: 1796,
        från: [
            {
                ord: "accusativus",
                språk: "latin"
            }
        ]
    },
    ackusatorisk: {
        ordklass: "adjektiv",
        betyder: "som innebär att straffprocessen är utformad som en förhandling mellan likställda parter inför en i huvudsak passiv domstol",
        belagt: 1878,
        från: [
            {
                ord: "accusatorius",
                språk: "latin"
            }
        ]
    },
    ackvirera: {
        ordklass: "verb",
        betyder: "bedriva ackvisition av",
        belagt: 1664,
        från: [
            {
                ord: "acquirere",
                språk: "latin"
            }
        ]
    },
    ackvisition: {
        ordklass: "substantiv",
        betyder: "planmässigt anskaffande",
        belagt: 1720,
        från: [
            {
                ord: "acquisitio",
                språk: "latin"
            }
        ]
    },
    acne: {
        ordklass: "substantiv",
        betyder: "typ av hudsjukdom med utslag",
        belagt: 1903,
        från: [
            {
                ord: "akhne",
                språk: "grekiska"
            }
        ]
    },
    acta: {
        ordklass: "substantiv",
        betyder: "(samling av) handlingar eller dokument",
        belagt: 1887,
        från: [
            {
                ord: "acta",
                språk: "latin"
            }
        ]
    },
    action: {
        ordklass: "substantiv",
        betyder: "dramatiskt händelseförlopp",
        belagt: 1955,
        från: [
            {
                ord: "action",
                språk: "engelska"
            }
        ]
    },
    MALL: {
        ordklass: "",
        betyder: "",
        belagt: 0,
        från: [
            {
                ord: "",
                språk: ""
            }
        ]
    }
};

function displayWord(w) {
    var etymologiDiv = document.getElementById("etymologi");

    var etym = "<h2 class=" + "lgray" + ">";
    words[w].från.forEach(function (item) {
        etym += "<span>" + item.ord + " <small><i><b>(" + item.språk + ")</b></i></small> </span>";
    });
    etym += " -></h2>";

    var html = etym + "<h1 class=" + "word " + ">" + w + " <small class=" + "gray" + "><i>(" + words[w].belagt + ")</i></small></h1>" +
        "<p class=" + "dgray" + ">" + words[w].betyder + " <small><i><b>(" + words[w].ordklass + ")</b></i></small></p><hr>";

    for (let key in words) {
        if (words.hasOwnProperty(key)) {
            var id = "link-" + key;
            html += "<a href=" + "#" + " id=" + id + ">" + key + "</a> "
        }
    }

    etymologiDiv.innerHTML = html;

    for (let key in words) {
        if (words.hasOwnProperty(key)) {
            var id = "link-" + key;
            const link = document.getElementById(id);
        
            link.addEventListener('click', function(event) {
                event.preventDefault();
                displayWord(key);
            });
        }
    }
}

function getWordCountByYear() {
    const wordCountByYear = {};

    Object.keys(words).forEach(word => {
        const entry = words[word];
        const { belagt } = entry;

        if (belagt > 0 && word.length > 0) {
            if (!wordCountByYear[belagt]) {
                wordCountByYear[belagt] = 1;
            } else {
                wordCountByYear[belagt]++;
            }
        }
    });

    return wordCountByYear;
}

function getWordsByLanguage() {
    const wordsByLanguage = new Map();

    Object.keys(words).forEach(word => {
        const entry = words[word];
        const languages = entry.från;

        languages.forEach(languageObj => {
            const { språk, ord } = languageObj;

            if (språk && språk.length > 0 && ord && ord.length > 0) {
                if (!wordsByLanguage.has(språk)) {
                    wordsByLanguage.set(språk, [ord]);
                } else {
                    wordsByLanguage.get(språk).push(ord);
                }
            }
        });
    });

    return wordsByLanguage;
}

function getWordCountByLanguage() {
    const wordsByLanguage = getWordsByLanguage(words);
    const wordCountByLanguage = {};

    wordsByLanguage.forEach((wordsArray, language) => {
        const wordCount = wordsArray.length;
        wordCountByLanguage[language] = wordCount;
    });

    return wordCountByLanguage;
}

document.addEventListener("DOMContentLoaded", function () {
    displayWord("abakus");

    const diagramContainer = document.getElementById('staple-diagram');

    Object.entries(getWordCountByLanguage()).forEach(([key, value]) => {
        const bar = document.createElement('div');
        bar.className = 'bar';
        bar.style.height = `${value * 4}px`;
        bar.innerHTML = value;
        
        const label = document.createElement('div');
        label.className = 'label';
        label.textContent = key;
        
        bar.appendChild(label);
        diagramContainer.appendChild(bar);
    });
});